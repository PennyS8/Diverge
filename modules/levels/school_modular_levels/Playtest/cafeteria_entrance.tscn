[gd_scene load_steps=6 format=4 uid="uid://d0oqu04cc5tr8"]

[ext_resource type="Material" uid="uid://bo62wxenemsxt" path="res://modules/entities/enemies/shades/fx/enemy_shader.tres" id="1_k6c6d"]
[ext_resource type="TileSet" uid="uid://cq3hvofrushyg" path="res://modules/levels/school_modular_levels/hallway.tres" id="2_s4dv3"]
[ext_resource type="PackedScene" uid="uid://btn1qexhyyea5" path="res://modules/objects/level_transition_zone/transition_zone.tscn" id="3_2asp8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iup6x"]
size = Vector2(360, 408)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_yj1fh"]
vertices = PackedVector2Array(184, 8, 184, 51, 160, 51, 32, 8, 32, 75, 56, 75, 160, 75, 64, 75, 64, 88, 56, 88)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 3, 2, 5), PackedInt32Array(2, 6, 7), PackedInt32Array(5, 2, 7), PackedInt32Array(5, 7, 8, 9)])
parsed_collision_mask = 4294966355
agent_radius = 8.0

[node name="CafeteriaEntrance" type="Node2D"]
y_sort_enabled = true
material = ExtResource("1_k6c6d")

[node name="RoomA" type="Node2D" parent="." groups=["room_with_dynamic_transitions"]]
y_sort_enabled = true
use_parent_material = true
position = Vector2(-48, -12)

[node name="CameraBoundry" type="Area2D" parent="RoomA"]
collision_layer = 512
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomA/CameraBoundry"]
position = Vector2(60, 12)
shape = SubResource("RectangleShape2D_iup6x")

[node name="LimitBottomLeft" type="Marker2D" parent="RoomA/CameraBoundry"]
position = Vector2(-120, 96)

[node name="LimitTopRight" type="Marker2D" parent="RoomA/CameraBoundry"]
position = Vector2(192, -192)

[node name="Tiles" type="NavigationRegion2D" parent="RoomA"]
y_sort_enabled = true
use_parent_material = true
navigation_polygon = SubResource("NavigationPolygon_yj1fh")
navigation_layers = 3

[node name="Floor" type="TileMapLayer" parent="RoomA/Tiles"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAP//BAACAAUAAAAAAAAABAACAAUAAAAAAAEABAACAAUAAAABAP//BAACAAUAAAABAAAABAACAAUAAAABAAEABAACAAUAAAABAAIABAACAAUAAAABAAMABAACAAUAAAACAAMABAACAAUAAAADAP//BAACAAUAAAADAAAABAACAAUAAAADAAEABAACAAUAAAADAAIABAACAAUAAAADAAMABAACAAUAAAAEAP//BAACAAUAAAAEAAAABAACAAUAAAAEAAEABAACAAUAAAAEAAIABAACAAUAAAAEAAMABAACAAUAAAAFAP//BAACAAUAAAAFAAAABAACAAUAAAAFAAEABAACAAUAAAAFAAIABAACAAUAAAAFAAMABAACAAUAAAAGAAIABAACAAUAAAAGAAMABAACAAUAAAAGAP//BAACAAUAAAAGAAAABAACAAUAAAAGAAEABAACAAUAAAAHAAIABAACAAUAAAACAP//BAACAAUAAAACAAAABAACAAUAAAAAAP7/BAACAAUAAAAHAAEABAACAAUAAAAHAAAABAACAAUAAAAAAP3/BAACAAUAAAAAAAIABAACAAUAAAD8/wIAAAAKABEAAAAIAAAAAAAKABEAAAAIAAEAAAAKABEAAAAIAAIAAAAKABEAAAADAAcAAAAKABEAAAACAAcAAAAKABEAAAABAAcAAAAKABEAAAABAPv/AAAKABEAAAACAPv/AAAKABEAAAADAPv/AAAKABEAAAD8/wAAAAAKABEAAAD8/wEAAAAKABEAAAACAAEABAACAAUAAAAAAAMABAACAAUAAAACAAIABAACAAUAAAA=")
tile_set = ExtResource("2_s4dv3")

[node name="Walls" type="TileMapLayer" parent="RoomA/Tiles"]
z_index = 1
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD9/wIAAAAKABEAAAAHAAIAAAAJABAAAAAFAPr/AAAKABEAAAAFAPv/AAAKABEAAAAGAPr/AAAKABEAAAAGAPv/AAAKABEAAAAHAPv/AAAKABEAAAAEAPr/AAAKABEAAAAEAPv/AAAKABEAAAAEAPz/AAAKABEAAAAFAPz/AAAKABEAAAAGAPz/AAAKABEAAAAHAPz/AAAKABEAAAAHAP3/AAAKABIAAAAHAP7/AAAWACEAAAAHAP//AAAWACMAAAD9//r/AAAKABEAAAD9//v/AAAKABEAAAD+//r/AAAKABEAAAD+//v/AAAKABEAAAD///r/AAAKABEAAAD///v/AAAKABEAAAD9//z/AAAKABEAAAD9//3/AAAKABEAAAD9//7/AAAKABEAAAD9////AAAKABEAAAD+//z/AAAKABEAAAD///z/AAAKABEAAAAAAPr/AAAKABEAAAAAAPv/AAAKABEAAAAAAPz/AAAKABEAAAAIAP7/AAAWACEAAAAIAP//AAAWACMAAAAIAAIAAAAKABAAAAAIAP3/AAAKABIAAAAHAPr/AAAKABEAAAAJAP3/AAAKABMAAAAJAP7/AAAJABEAAAAJAP//AAAJABEAAAAJAAAAAAAJABEAAAAJAAEAAAAJABEAAAAJAAIAAAAIABMAAAD8/wIAAAAKABAAAAD8//3/AAAKABIAAAD7//3/AAALABMAAAD7////AAALABEAAAD7//7/AAALABEAAAD7/wAAAAALABEAAAD7/wEAAAALABEAAAD7/wIAAAAJABMAAAD8//7/AAAWACEAAAD8////AAAWACMAAAAEAPn/AAAJABEAAAAAAPn/AAALABEAAAAAAPj/AAALABMAAAABAPj/AAAKABIAAAACAPj/AAAKABIAAAADAPj/AAAKABIAAAAEAPj/AAAKABMAAAABAPn/AAAWACEAAAABAPr/AAAWACMAAAACAPn/AAAWACEAAAACAPr/AAAWACMAAAADAPn/AAAWACEAAAADAPr/AAAKABEAAAD9/wEAAAAKABEAAAD9/wAAAAAKABEAAAADAAMAAAAJABAAAAAEAAMAAAAKABAAAAAFAAMAAAAKABAAAAAGAAMAAAAKABAAAAAAAAIAAAALABEAAAAAAAEAAAALABEAAAAAAAAAAAALABEAAAAAAP//AAALABEAAAABAP//AAAWACMAAAACAP//AAAWACMAAAADAP//AAAWACMAAAAEAP//AAAWACMAAAAFAP//AAAWACMAAAAGAP//AAAWACMAAAAGAP3/AAAKABIAAAAFAP3/AAAKABIAAAAEAP3/AAAKABIAAAADAP3/AAAKABIAAAACAP3/AAAKABIAAAABAP3/AAAKABIAAAAAAP3/AAALABMAAAADAPv/AAAKABEAAAADAPz/AAAKABEAAAACAPv/AAAKABEAAAACAPz/AAAKABEAAAABAPz/AAAKABEAAAABAPv/AAAKABEAAAD+/wIAAAAKABEAAAD//wIAAAAKABEAAAD//wEAAAAKABEAAAD//wAAAAAKABEAAAD/////AAAKABEAAAD+////AAAKABEAAAD+/wAAAAAKABEAAAD+/wEAAAAKABEAAAD+//7/AAAKABEAAAD+//3/AAAKABEAAAD///7/AAAKABEAAAD///3/AAAKABEAAAAGAP7/AAAWACEAAAAFAP7/AAAWACEAAAAEAP7/AAAWACEAAAADAP7/AAAWACEAAAACAP7/AAAWACEAAAABAP7/AAAWACEAAAAAAP7/AAALABEAAAAAAAMAAAAJABMAAAABAAMAAAALABAAAAAHAAMAAAAIABMAAAA=")
tile_set = ExtResource("2_s4dv3")

[node name="TopLayerVoid" type="TileMapLayer" parent="RoomA/Tiles"]
z_index = 2
tile_map_data = PackedByteArray("AAAEAPn/AAAKABEAAAADAPn/AAAKABEAAAACAPn/AAAKABEAAAABAPn/AAAKABEAAAAAAPn/AAAKABEAAAAAAPj/AAAKABEAAAABAPj/AAAKABEAAAACAPj/AAAKABEAAAADAPj/AAAKABEAAAAEAPj/AAAKABEAAAAIAAIAAAAKABEAAAAJAP3/AAAKABEAAAAJAP7/AAAKABEAAAAJAP//AAAKABEAAAAJAAAAAAAKABEAAAAJAAEAAAAKABEAAAAJAAIAAAAKABEAAAD8//7/AAAKABEAAAD8////AAAKABEAAAD8/wAAAAAKABEAAAD8/wEAAAAKABEAAAD8/wIAAAAKABEAAAD8//3/AAAKABEAAAD7//3/AAAKABEAAAD7//7/AAAKABEAAAD7////AAAKABEAAAD7/wAAAAAKABEAAAD7/wEAAAAKABEAAAD7/wIAAAAKABEAAAABAPr/AAAKABEAAAACAPr/AAAKABEAAAADAPr/AAAKABEAAAD8//z/AAAKABEAAAD7//z/AAAKABEAAAD7//v/AAAKABEAAAD8//v/AAAKABEAAAD8//r/AAAKABEAAAD8//n/AAAKABEAAAD8//j/AAAKABEAAAD7//n/AAAKABEAAAD7//r/AAAKABEAAAD7//j/AAAKABEAAAD8//f/AAAKABEAAAD9//j/AAAKABEAAAD+//j/AAAKABEAAAD9//n/AAAKABEAAAD+//n/AAAKABEAAAD///n/AAAKABEAAAD///j/AAAKABEAAAD9//f/AAAKABEAAAD+//f/AAAKABEAAAD///f/AAAKABEAAAAAAPf/AAAKABEAAAABAPf/AAAKABEAAAACAPf/AAAKABEAAAADAPf/AAAKABEAAAAEAPf/AAAKABEAAAAFAPf/AAAKABEAAAAFAPj/AAAKABEAAAAFAPn/AAAKABEAAAAGAPn/AAAKABEAAAAGAPj/AAAKABEAAAAGAPf/AAAKABEAAAAHAPf/AAAKABEAAAAHAPj/AAAKABEAAAAHAPn/AAAKABEAAAAHAPr/AAAKABEAAAAIAPr/AAAKABEAAAAIAPv/AAAKABEAAAAIAPz/AAAKABEAAAAJAPz/AAAKABEAAAAJAPv/AAAKABEAAAAJAPr/AAAKABEAAAAJAPn/AAAKABEAAAAJAPj/AAAKABEAAAAIAPj/AAAKABEAAAAIAPn/AAAKABEAAAAIAPf/AAAKABEAAAAJAPf/AAAKABEAAAAJAAMAAAAKABEAAAAIAAMAAAAKABEAAAAIAAQAAAAKABEAAAAIAAUAAAAKABEAAAAIAAYAAAAKABEAAAAIAAcAAAAKABEAAAAIAAgAAAAKABEAAAAJAAYAAAAKABEAAAAJAAUAAAAKABEAAAAJAAQAAAAKABEAAAAJAAcAAAAKABEAAAAJAAgAAAAKABEAAAAHAAgAAAAKABEAAAAGAAgAAAAKABEAAAAFAAgAAAAKABEAAAAEAAgAAAAKABEAAAADAAgAAAAKABEAAAACAAgAAAAKABEAAAABAAgAAAAKABEAAAAAAAgAAAAKABEAAAD//wgAAAAKABEAAAD+/wgAAAAKABEAAAD9/wgAAAAKABEAAAD8/wgAAAAKABEAAAD8/wcAAAAKABEAAAD8/wYAAAAKABEAAAD7/wYAAAAKABEAAAD7/wUAAAAKABEAAAD7/wQAAAAKABEAAAD8/wMAAAAKABEAAAD8/wQAAAAKABEAAAD8/wUAAAAKABEAAAD7/wcAAAAKABEAAAD7/wgAAAAKABEAAAD7/wMAAAAKABEAAAD9/wMAAAAKABEAAAD+/wMAAAAKABEAAAD//wMAAAAKABEAAAD+/wQAAAAKABEAAAD9/wQAAAAKABEAAAD//wQAAAAKABEAAAAAAAQAAAAKABEAAAD//wUAAAAKABEAAAD+/wUAAAAKABEAAAD9/wUAAAAKABEAAAD9/wYAAAAKABEAAAD9/wcAAAAKABEAAAD+/wcAAAAKABEAAAD//wcAAAAKABEAAAD//wYAAAAKABEAAAAAAAYAAAAKABEAAAAAAAUAAAAKABEAAAD+/wYAAAAKABEAAAAAAAcAAAAKABEAAAABAAcAAAAKABEAAAABAAYAAAAKABEAAAABAAUAAAAKABEAAAABAAQAAAAKABEAAAACAAQAAAAKABEAAAADAAQAAAAKABEAAAADAAUAAAAKABEAAAACAAUAAAAKABEAAAACAAYAAAAKABEAAAACAAcAAAAKABEAAAADAAcAAAAKABEAAAADAAYAAAAKABEAAAAEAAYAAAAKABEAAAAFAAYAAAAKABEAAAAEAAUAAAAKABEAAAAEAAcAAAAKABEAAAAFAAcAAAAKABEAAAAGAAYAAAAKABEAAAAHAAYAAAAKABEAAAAHAAUAAAAKABEAAAAGAAQAAAAKABEAAAAFAAQAAAAKABEAAAAEAAQAAAAKABEAAAAGAAUAAAAKABEAAAAFAAUAAAAKABEAAAAHAAQAAAAKABEAAAAHAAcAAAAKABEAAAAGAAcAAAAKABEAAAAIAP3/AAAKABEAAAAIAP7/AAAKABEAAAAIAP//AAAKABEAAAAIAAAAAAAKABEAAAAIAAEAAAAKABEAAAA=")
tile_set = ExtResource("2_s4dv3")

[node name="Entrances" type="Node2D" parent="RoomA"]

[node name="AEast" type="Marker2D" parent="RoomA/Entrances" groups=["level_entrance"]]
position = Vector2(180, 36)

[node name="ASouth" type="Marker2D" parent="RoomA/Entrances" groups=["level_entrance"]]
position = Vector2(60, 88)

[node name="Exits" type="Node2D" parent="RoomA"]

[node name="AEast" parent="RoomA/Exits" instance=ExtResource("3_2asp8")]
position = Vector2(204, 36)
scale = Vector2(4, 12)
next_level_path = "uid://bgxeo4378llba"
entrance_name = "0"

[node name="ASouth" parent="RoomA/Exits" instance=ExtResource("3_2asp8")]
position = Vector2(60, 108)
scale = Vector2(12, 4)
next_level_path = "uid://dibtck8dlixm1"
entrance_name = "PuzzleDoorB"
